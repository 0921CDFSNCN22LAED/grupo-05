<!DOCTYPE html>
<html lang="en">

<head>
    <%- include ("../partials/head") %>

        <title>Registro</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
            integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
            crossorigin="anonymous" />
        <link rel="stylesheet" href="/css/editarCuenta.css" />
</head>

<body class="editarCuenta-body">
    <header>
        <%- include ("../partials/header") %>
    </header>
    <main class="editarCuenta-main-container">
        <h2 class="editarCuenta-title">EDITA TU CUENTA</h2>
        <form action="/users/editar/<%= usuario.id %>?_method=PUT" method="post"
            class="editarCuenta-form-container box-shadow" enctype="multipart/form-data">

            <section class="img-section">
                <div class="editarCuenta-div-img">
                    <label for="imagen" class="form-label">
                        Actual foto de perfil:
                    </label>
                    <img src="<%= usuario.imagen %>" class="img-usurio" />
                </div>

            </section>

            <section class="input-section">
                <div class="editarCuenta-div-img">
                    <label for="imagen" class="form-label">
                        Nueva foto de perfil:
                    </label>
                    <input class="form-control box-shadow" width="100%" type="file" name="imagen" id="imagen"
                        accept="image/jpg" />
                    <% if (locals.errors) { %>
                        <% for (let error of errors){%>
                            <% if (error.param=='imagen' ) { %>
                                <div class="text-danger">
                                    <p class="editarCuenta-invalid-text-input">
                                        <%= error.msg %>
                                    </p>
                                </div>
                                <% } %>
                                    <% } %>
                                        <% } %>
                </div>

                <div class="editarCuenta-div-name">
                    <label for="name" class="form-label"></label>
                    <input class="editarCuenta-imput-name box-shadow form-control" name="name" id="name" type="text"
                        placeholder=" Nombre y Apellido"
                        value="<%= locals.old && old.name ? old.name : usuario.nombre%>" />
                    <% if (locals.errors) { %>
                        <% for (let error of errors) { %>
                            <% if (error.param=='name' ) { %>
                                <p class="editarCuenta-invalid-text-input">
                                    <%= error.msg %>
                                </p>
                                <% } %>
                                    <% } %>
                                        <% } %>
                </div>

                <div class="editarCuenta-div-email">
                    <label for="email" class="form-label"></label>
                    <input type="email" name="email" id="email" placeholder=" Correo Electrónico"
                        class="editarCuenta-imput-email box-shadow form-control"
                        value="<%= locals.old && old.email ? old.email : usuario.email%> " />
                    <% if (locals.errors) { %>
                        <% for (let error of errors) { %>
                            <% if (error.param=='email' ) { %>
                                <p class="editarCuenta-invalid-text-input">
                                    <%= error.msg %>
                                </p>
                                <% } %>
                                    <% } %>
                                        <% } %>
                </div>

                <div class="editarCuenta-div-password">
                    <label for="password" class="form-label"></label>
                    <input type="password" name="password" id="password" placeholder=" Contraseña"
                        class="editarCuenta-imput-password box-shadow form-control" />
                    <% if (locals.errors) { %>
                        <% for (let error of errors) { %>
                            <% if (error.param=='password' ) { %>
                                <p class="editarCuenta-invalid-text-input">
                                    <%= error.msg %>
                                </p>
                                <% } %>
                                    <% } %>
                                        <% } %>
                </div>
                <div class="editarCuenta-div-password">
                    <label for="confirm-password" class="form-label"></label>
                    <input type="password" name="confirm-password" id="confirm-password"
                        placeholder=" Confirmar Contraseña"
                        class="editarCuenta-imput-password box-shadow form-control" />
                    <% if (locals.errors) { %>
                        <% for (let error of errors) { %>
                            <% if (error.param=='confirm-password' ) { %>
                                <p class="editarCuenta-invalid-text-input">
                                    <%= error.msg %>
                                </p>
                                <% } %>
                                    <% } %>
                                        <% } %>
                </div>
            </section>


            <div class="editarCuenta-div-enter">
                <button type="submit" name="button-enter" class="editarCuenta-button-enter box-shadow btn-secondary">
                    <p>EDITAR</p>
                </button>
            </div>


            <div class="errores">
                <ul class="errores-front"></ul>
            </div>
        </form>
    </main>

    <footer>
        <%- include ("../partials/footer") %>
    </footer>
    <script src="/js/frontend/validateRegister.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"
        integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"
        integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13"
        crossorigin="anonymous"></script>
</body>

</html>