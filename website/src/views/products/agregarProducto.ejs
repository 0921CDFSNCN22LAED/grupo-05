<!DOCTYPE html>
<html lang="en">
    <head>
        <%- include ("../partials/head") %>
        <title>Agregar productos</title>
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
            crossorigin="anonymous"
        />
        <link rel="stylesheet" href="/css/agregarProducto.css" />
    </head>
    <body class="agregarProducto-body">
        <header><%- include ("../partials/header") %></header>
        <main class="agregarProducto-main-container">
            <img src="/images/mobile-bg-black-2.jpeg" class="mobile-bg-img" />
            <img src="/images/bg-detail-product.jpeg" class="desktop-bg-img" />

            <form
                class="agregarProducto-form-container"
                method="POST"
                enctype="multipart/form-data"
            >
                <h2>AGREGAR PRODUCTO</h2>
                <div>
                    <label for="nombre" class="form-label">Nombre:</label>
                    <input 
                        class="box-shadow form-control" 
                        type="text"
                        name="nombre" 
                        id="nombre" 
                        placeholder=" Ej: Toro"
                        value="<%=locals.old && old.nombre ? old.nombre : ""%>" 
                    />
                    <% if (locals.errors && errors.nombre) { %>
                        <div class="text-danger">
                            <p style="color: red"><%= errors.nombre.msg %></p>
                        </div>
                    <% } %>
                </div>
                <div>
                    <label for="precio" class="form-label">Precio:</label>
                    <input 
                        class="box-shadow form-control" 
                        type="number"
                        name="precio" 
                        id="precio" 
                        placeholder=" Ej: 1000" 
                        value="<%=locals.old && old.precio ? old.precio : "" %>" 
                    /> 
                    <% if (locals.errors && errors.precio) { %>
                        <div class="text-danger">
                            <p style="color: red"><%= errors.precio.msg %></p>
                        </div>
                    <% } %>
                </div>
                <div>
                    <label for="anio" class="form-label">Año:</label>
                    <input
                        class="box-shadow form-control"
                        type="number"
                        name="anio"
                        id="anio"
                        placeholder=" Ej: 2017"
                        value="<%= locals.old && old.anio ? old.anio : "" %>"
                    />
                    <% if (locals.errors && errors.anio) { %>
                        <div class="text-danger">
                            <p style="color: red"><%= errors.anio.msg %></p>
                        </div>
                    <% } %>
                </div>
                <div>
                    <label for="stock" class="form-label">Stock:</label>
                    <input
                        class="box-shadow form-control"
                        type="number"
                        name="stock"
                        id="stock"
                        placeholder=" Ej: 32"
                        value="<%= locals.old && old.stock ? old.stock : "" %>"
                    />
                    <% if (locals.errors && errors.stock) { %>
                        <div class="text-danger">
                            <p style="color: red"><%= errors.stock.msg %></p>
                        </div>
                    <% } %>
                </div>
                <div>
                    <label for="precioProducto" class="form-label">Descripcion:</label>
                    <textarea
                        class="agregarProducto-text-area box-shadow form-control"
                        name="descripcion"
                        id="descripcion"
                        cols="30"
                        rows="10"
                        value="<%= locals.old && old.descripcion ? old.descripcion : "" %>"
                    ></textarea>
                    <% if (locals.errors && errors.descripcion) { %>
                        <div class="text-danger">
                            <p style="color: red"><%= errors.descripcion.msg %></p>
                        </div>
                    <% } %>
                </div>
                <div>
                    <label for="bodega_id" class="form-label">Bodega:</label>
                    <select
                        name="bodega_id"
                        id="bodega_id"
                        class="form-select box-shadow"
                    >
                        <% for(let bodega of bodegas) { %>
                            <option value="<%= bodega.id %>">
                                <%= bodega.nombre %>
                            </option>
                        <% } %>
                    </select>
                </div>
                <div>
                    <label for="categoria_id" class="form-label">Categoría:</label>
                    <select
                        name="categoria_id"
                        id="categoria_id"
                        class="form-select box-shadow"
                    >
                        <% for(let categoria of categorias) { %>
                            <option value="<%= categoria.id %>">
                                <%= categoria.nombre %>
                            </option>
                        <% } %>
                    </select>
                </div>
                <div>
                    <label for="uva_id" class="form-label">Uva:</label>
                    <select
                        name="uva_id"
                        id="uva_id"
                        class="form-select box-shadow"
                    >
                        <% for(let uva of uvas) { %>
                            <option value="<%= uva.id %>"><%= uva.nombre %></option>
                        <% } %>
                    </select>
                </div>
                <div class="agregarProducto-div-img-product">
                    <label for="imagen" class="form-label">Imagen del producto:</label>
                    <input
                        class="agregarProducto-input-img-product form-control box-shadow"
                        type="file"
                        name="imagen"
                        id="imagen"
                        value="<%= locals.old && old.imagen ? old.imagen : "" %>"
                    />
                    <% if (locals.errors && errors.imagen) { %>
                        <div class="text-danger">
                            <p style="color: red"><%= errors.imagen.msg %></p>
                        </div>
                    <% } %>
                </div>

                <div class="agregarProducto-div-button">
                    <button
                        class="agregarProducto-button btn-secondary"
                        type="submit"
                        value="Agregar producto"
                    >
                        Agregar
                    </button>
                </div>
            </form>
        </main>
        <footer><%- include ("../partials/footer") %></footer>
        <script
            src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"
            integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB"
            crossorigin="anonymous"
        ></script>
        <script
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"
            integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13"
            crossorigin="anonymous"
        ></script>
    </body>
</html>
